#include "Configuration.h"

namespace System
{
	namespace Engine
	{
		//////////////////////////////////////////////////////////////////
		Configuration::Configuration ( ) 
		//////////////////////////////////////////////////////////////////
		{
			_rootNode = NULL;
		}

		//////////////////////////////////////////////////////////////////
		Configuration::~Configuration ( )
		//////////////////////////////////////////////////////////////////
		{

		}

		//////////////////////////////////////////////////////////////////
		bool Configuration::LoadConfiguration ( std::string filename )
		//////////////////////////////////////////////////////////////////
		{
			if ( _xmlDocument.LoadFile ( filename.c_str() ) )
			{
				_rootNode = PConfigurationNode (
					new ConfigurationNode(_xmlDocument.RootElement()) );
				return true;
			}

			return false;
		}

		//////////////////////////////////////////////////////////////////
		std::string Configuration::GetString ( std::string xpath )
		//////////////////////////////////////////////////////////////////
		{
		
			return _rootNode->GetString ( xpath );
		}

		//////////////////////////////////////////////////////////////////
		PConfigurationNode Configuration::GetNode ( std::string xpath )
		//////////////////////////////////////////////////////////////////
		{
			return _rootNode->GetNode ( xpath );
		}

	}
}
